{"ast":null,"code":"import { HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport class ErrorInterceptor {\n  constructor(router) {\n    this.router = router;\n  }\n  intercept(req, next) {\n    return next.handle(req).pipe(catchError(error => {\n      if (error.status === 401) {\n        // Unauthorized - redirect to login\n        this.router.navigate(['/login']);\n      }\n      return throwError(() => error);\n    }));\n  }\n  static {\n    this.ɵfac = function ErrorInterceptor_Factory(t) {\n      return new (t || ErrorInterceptor)(i0.ɵɵinject(i1.Router));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ErrorInterceptor,\n      factory: ErrorInterceptor.ɵfac\n    });\n  }\n}","map":{"version":3,"names":["HttpRequest","HttpHandler","HttpEvent","HttpErrorResponse","throwError","catchError","Router","ErrorInterceptor","constructor","router","intercept","req","next","handle","pipe","error","status","navigate","i0","ɵɵinject","i1","factory","ɵfac"],"sources":["/Users/ceo/projects/ideia/IdeiaVirtualShop/apps/web/src/app/core/interceptors/error.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpErrorResponse,\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(private router: Router) {}\n\n  intercept(\n    req: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    return next.handle(req).pipe(\n      catchError((error: HttpErrorResponse) => {\n        if (error.status === 401) {\n          // Unauthorized - redirect to login\n          this.router.navigate(['/login']);\n        }\n\n        return throwError(() => error);\n      })\n    );\n  }\n}\n\n"],"mappings":"AACA,SAEEA,WAAW,EACXC,WAAW,EACXC,SAAS,EACTC,iBAAiB,QACZ,sBAAsB;AAC7B,SAAqBC,UAAU,QAAQ,MAAM;AAC7C,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,MAAM,QAAQ,iBAAiB;;;AAGxC,OAAM,MAAOC,gBAAgB;EAC3BC,YAAoBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;EAAW;EAErCC,SAASA,CACPC,GAAqB,EACrBC,IAAiB;IAEjB,OAAOA,IAAI,CAACC,MAAM,CAACF,GAAG,CAAC,CAACG,IAAI,CAC1BT,UAAU,CAAEU,KAAwB,IAAI;MACtC,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;QACxB;QACA,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClC;MAEA,OAAOb,UAAU,CAAC,MAAMW,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;;;uBAjBWR,gBAAgB,EAAAW,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAd,MAAA;IAAA;EAAA;;;aAAhBC,gBAAgB;MAAAc,OAAA,EAAhBd,gBAAgB,CAAAe;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}